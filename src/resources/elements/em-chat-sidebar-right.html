<template>
    <div class="tms-right-sidebar">
        <div class="panel-search">
            <div class="ui basic segment minimal selection list segment comments">
                <h1 show.bind="!searchChats.length" class="ui center aligned header">无符合检索结果</h1>
                <div repeat.for="item of searchChats" mouseleave.trigger="searchItemMouseleaveHandler(item)" mouseenter.trigger="searchItemMouseenterHandler(item)" swipebox class="comment item ${item.id == markId ? 'active' : ''}" data-id="${item.id}">
                    <a class="avatar">
                        <i class="circular icon large user"></i>
                    </a>
                    <div class="content">
                        <a class="author">${item.creator.name}</a>
                        <div class="metadata">
                            <div class="date" data-timeago="${item.createDate}" title="${item.createDate | date}">${item.createDate | timeago}</div>
                        </div>
                        <div class="text markdown-body ${item.isOpen ? 'tms-open' : ''}" innerhtml.bind="item.content | parseMd"></div>
                        <div class="actions">
                            <a click.delegate="gotoChatHandler(item)" class="tms-goto" href="">定位</a>
                            <a class="tms-copy tms-clipboard" data-clipboard-text="${item.content}">复制</a>
                            <a class="tms-share tms-clipboard" data-clipboard-text="${selfLink + '?id=' + item.id}">分享</a>
                        </div>
                    </div>
                    <div class="tms-btn-open-search-item" click.delegate="openSearchItemHandler(item)">
                        <i title="${item.isOpen ? '点击收起 (o)' : '点击展开 (o)'}" class="angle double ${item.isOpen ? 'up' : 'down'} large icon"></i>
                    </div>
                </div>
                <button if.bind="!lastSearch" click.delegate="searchMoreHandler()" class="fluid ui basic button tms-search-more"><i show.bind="searchMoreP && searchMoreP.readyState != 4" class="spinner loading icon"></i> 加载更多(${moreSearchCnt})</button>
            </div>
        </div>
    </div>
</template>
