<template>
    <require from="./em-chat-channel-members-mgr.css"></require>
    <em-modal classes="small" em-modal.ref="emModal" onshow.call="showHandler($event)" onapprove.call="approveHandler($event)" confirm-label="确定">
        <div slot="header">频道成员管理</div>
        <div slot="content" class="tms-em-chat-channel-members-mgr">
            <div ref="frm" class="ui form">
                <div class="field">
                    <label>频道成员</label>
                    <div ref="membersRef" class="ui fluid multiple search selection dropdown">
                        <input type="hidden" name="members">
                        <i class="dropdown icon"></i>
                        <div class="default text"></div>
                        <div class="menu">
                            <div repeat.for="item of users" task.bind="initMembersUI($last)" class="item" data-value="${item.username}">
                                ${item.name ? item.name : item.username}
                                <input type="hidden" class="${channel.owner.username == item.username ? 'owner' : ''}">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </em-modal>
</template>
